@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}

@section HeaderContent {
	<environment include="Development">
		<script src="~/lib/signalr/dist/signalr.js" asp-append-version="true"></script>
		<script src="~/lib/PopForums/src/PopForums.js" asp-append-version="true"></script>
		<link href="~/lib/PopForums/src/PopForums.css" rel="stylesheet" asp-append-version="true" />
	</environment>
	<environment exclude="Development">
		<script src="~/lib/signalr/dist/signalr.min.js" asp-append-version="true"></script>
		<script src="~/lib/PopForums/dist/PopForums.min.js" asp-append-version="true"></script>
		<link href="~/lib/PopForums/dist/PopForums.min.css" rel="stylesheet" asp-append-version="true" />
	</environment>
	@RenderSection("HeaderContent", required: false)
	@await Component.InvokeAsync("UserState")
}

<div id="ForumContainer" class="container-fluid">
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#AccountBox" aria-controls="AccountBox" aria-expanded="false">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div id="AccountBox" class="collapse navbar-collapse">
			@await Component.InvokeAsync("UserNavigation")
			@using (Html.BeginForm("Result", SearchController.Name, FormMethod.Post, new Dictionary<string, object> { { "class", "form-inline" }, { "role", "search" } }))
			{
				<div class="mx-2">
					<input type="search" class="form-control" placeholder="Search" id="query" name="query">
				</div>
			}
		</div>
	</nav>
	<div class="row">
		<div class="col-12">
			@RenderBody()
		</div>
	</div>
	<div class="row">
		<div id="ForumFooter" class="col-12 mt-3">
			<small><a href="https://popforums.com/">POP Forums</a> - &copy;@DateTime.Now.Year, POP World Media, LLC</small>
		</div>
	</div>
</div>